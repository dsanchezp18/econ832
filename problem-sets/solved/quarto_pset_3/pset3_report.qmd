---
title: "ECON832 Assignment 3: Report"
date: "2024-03-08"
date-format: "MMM DD, YYYY"
format: pdf
engine: jupyter
---

# Problem 2: Bootstrap Standard Errors of the Supply and Demand Model

In this problem, we are interested in estimating the standard errors of the $\beta$ coefficient in the supply and demand model using the bootstrap method. I estimated the true elasticity of demand, $b$, by performing 2SLS estimation through an `Ipopt` optimizer in Problem Set 1. 

```{julia}
#| label: 2sls-solution 
#| output: false
include("../problem_set_1_supply_and_demand.jl")
```

```{julia}
#| label: structural-solution-output
#| output: true
#| echo: false
println("The estimated elasticity of demand is", b1_iv2, ".")
```

For the estimation of bootstrap standard errors, I redefined my supply and demand model as a function and then used the `pmap` function and the `Distributed` library to perform the bootstrapping. 

```{julia}
#| label: bootstrap-std-errors
#| eval: false

using Distributed
using Optim
using DataFrames

addprocs(4)

@everywhere include("../problem_set_3_corrected_bootstrap_functions.jl")

B = 10000 # Total number of bootstrap samples

beta_samples_pmap = pmap(bootstrap_sample, [df for _ in 1:B])

beta_samples_pmap = beta_samples_pmap ./ 0.5

std_errors = std(beta_samples_pmap)

```


The bootstrap standard error for $\beta/b$ is 0.14124134. 